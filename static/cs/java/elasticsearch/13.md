### 排序和分页

#### 1. 基础分页
```
    GET /demo/_search
    {
      "query": {
        "match_all": {}
      },
      "sort": [
        {
          "price": "desc"
        },
        {
          "commentCount": "asc"
        }
      ],
      "from": 0,
      "size": 2
    }
```

#### 2. 深度分页
```
    针对深度分页，elasticsearch提供了两种解决方案：

    - search after：分页时需要排序，原理是从上一次的排序值开始，查询下一页数据。官方推荐使用的方式。

    - scroll：原理将排序后的文档id形成快照，保存下来，基于快照做分页。官方已经不推荐使用。


    search after 模式：
    优点： 没有查询上限，支持深度分页
    缺点： 只能向后逐页查询，不能随机翻页
    场景： 数据迁移、手机滚动查询

    深度分页解决方案： 设置搜索上限
```
